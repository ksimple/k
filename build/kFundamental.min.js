define("kFundamental",["require","exports","jquery"],function(a,b,c){function d(a,b,c){return new Error(a+": ["+b+"] "+c)}b.createError=d;var e=function(){function a(a){this.isDisposed=!1,this.isDisposing=!1,this._disposeCallback=a,this._disposables=[]}return a.prototype.addDisposable=function(a){return this.isDisposed||this.isDisposing?void(a.disposer?a.disposer.dispose():a.dispose&&a.dispose()):void this._disposables.push(a)},a.prototype.dispose=function(){if(!this.isDisposed&&!this.isDisposing){this.isDisposing=!0,this._disposeCallback&&this._disposeCallback();for(var a=0;a<this._disposables.length;a++)this._disposables[a].disposer?this._disposables[a].disposer.dispose():this._disposables[a].dispose&&this._disposables[a].dispose();this._disposables=null,this.isDisposed=!0}},a}();b.Disposer=e;var f=function(){function a(b){this._buffer="",this._pretty="undefined"==typeof b?a.defaultPretty:b,this._state=a._selectorState}return a.prototype.pushSelector=function(b){this._state==a._propertyState&&(this._pretty?this._buffer+="}\n":this._buffer+="}",this._state=a._selectorState),this._buffer+=b},a.prototype.property=function(b,c,d){if(arguments.length>2&&isNaN(c))throw"cannot use unit when the second argument are NaN";this._state==a._selectorState&&(this._pretty?this._buffer+="\n{\n":this._buffer+="{",this._state=a._propertyState),this._pretty&&(this._buffer+="    "),this._buffer+=b,this._buffer+=":",this._pretty&&(this._buffer+=" "),this._buffer+=c,d&&(this._buffer+=d),this._buffer+=";",this._pretty&&(this._buffer+="\n")},a.prototype.toString=function(){return this._state==a._propertyState&&(this._pretty?this._buffer+="}\n":this._buffer+="}"),this._buffer},a.defaultPretty=!0,a._selectorState=0,a._propertyState=1,a}();b.CssTextBuilder=f;var g=function(){function a(a){var b=this;this._element=c('<style type="text/css"></style>'),a&&this._element.attr("id",a),c(document.head).append(this._element),this._stylesheetText="",this.disposer=new e(function(){b._element.remove(),b._element=null,b._stylesheetText=null})}return a.prototype.content=function(a){return this.disposer.isDisposed?void 0:0==arguments.length?this._stylesheetText:(a||(a=""),void(this._stylesheetText!=a&&(this._stylesheetText=a,this._element[0].styleSheet&&!this._element[0].sheet?this._element[0].styleSheet.cssText=this._stylesheetText:this._element.html(this._stylesheetText))))},a}();b.DynamicStylesheet=g});