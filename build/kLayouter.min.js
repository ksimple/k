define("kLayouter",["require","exports","kFundamental","jquery"],function(a,b,c,d){function e(){return Math.floor(window.performance.now())+"-"+Math.floor(1e4*Math.random())}function f(a){return a.match(/(\d*)(.*)/).slice(1)}function g(a,b){k[a]=b;var c="";for(var a in k)c+=k[a];l.content(c)}function h(a){a=d(a).eq(0),a[0]==window&&(a=d(document.body));var b=a.find("[data-kl-type]");a.attr("data-kl-type")&&(b=d(a).add(b));for(var c=0;c<b.length;c++){var e=b.eq(c);if(!e.data("kl-item"))switch(e.attr("data-kl-type")){case"vertical":e.data("kl-item",new i(e));break;case"horizontal":e.data("kl-item",new j(e))}}}var i=function(){function a(a){this._element=a,this._className="kl-vertical-"+e(),this._element.addClass(this._className),this.layout()}return a.prototype.layout=function(){for(var a=this._element.find(">div"),b=0,d=new c.CssTextBuilder,e=0;e<a.length;e++){var h=a.eq(e),i=f(h.attr("data-kl-vertical-height")),j=i[0],k=i[1];d.pushSelector("."+this._className),d.property("position","relative"),"px"==k&&(b+=j,h.addClass(this._className+"-"+e),d.pushSelector("."+this._className+">."+this._className+"-"+e),d.property("height",j,"px"),d.property("position","absolute"))}g(this._className,d.toString())},a}(),j=function(){function a(a){this._element=a}return a}(),k={},l=new c.DynamicStylesheet("kLayouter-"+e());b.attach=h});